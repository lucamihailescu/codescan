# =============================================================================
# MLP Code Guardian Configuration
# =============================================================================
# Copy this file to .env and modify as needed.
# All variables are optional - sensible defaults are used when not specified.
# =============================================================================

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Host and port for the FastAPI server
# SERVER_HOST=0.0.0.0
# SERVER_PORT=8000

# =============================================================================
# DATABASE CONFIGURATION (SQLite)
# =============================================================================

# Path to SQLite database file (relative to backend directory)
# DATABASE_URL=sqlite:///./dlp.db

# =============================================================================
# DATABASE CONNECTION POOL CONFIGURATION
# =============================================================================

# Maximum number of connections in the pool
# DB_POOL_SIZE=10

# Maximum overflow connections allowed beyond pool_size
# DB_POOL_MAX_OVERFLOW=20

# Seconds to wait for a connection from the pool
# DB_POOL_TIMEOUT=30

# Recycle connections after this many seconds (prevents stale connections)
# DB_POOL_RECYCLE=3600

# Check connections before use (recommended for production)
# DB_POOL_PRE_PING=true

# =============================================================================
# STORAGE BACKEND CONFIGURATION
# =============================================================================

# Storage backend to use: "sqlite" (default) or "redis"
# SQLite is simpler and requires no additional setup
# Redis offers better performance for large datasets
# STORAGE_BACKEND=sqlite

# =============================================================================
# REDIS CONFIGURATION (only used when STORAGE_BACKEND=redis)
# =============================================================================

# Redis connection settings
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# Redis connection pool settings
# REDIS_POOL_MAX_CONNECTIONS=50
# REDIS_POOL_MIN_IDLE=5
# REDIS_CONNECTION_TIMEOUT=10
# REDIS_SOCKET_TIMEOUT=30
# REDIS_SOCKET_CONNECT_TIMEOUT=10
# REDIS_RETRY_ON_TIMEOUT=true
# REDIS_HEALTH_CHECK_INTERVAL=30

# =============================================================================
# THREADING / PARALLEL PROCESSING
# =============================================================================

# Enable parallel processing for indexing and scanning
# Recommended for large directories and when using Redis backend
# THREADING_ENABLED=false

# Number of worker threads for parallel processing
# Recommended: Number of CPU cores for CPU-bound, 2-4x cores for I/O-bound
# THREADING_MAX_WORKERS=4

# Number of files per batch for progress updates
# THREADING_BATCH_SIZE=50

# =============================================================================
# SIMILARITY MATCHING CONFIGURATION
# =============================================================================

# Sensitivity level preset: "low", "medium" (default), "high", or "custom"
# - low: Fewer false positives, may miss some matches (threshold ~0.75)
# - medium: Balanced detection (threshold ~0.65)
# - high: More matches, may have more false positives (threshold ~0.55)
# - custom: Use the individual threshold settings below
# SIMILARITY_SENSITIVITY=medium

# Minimum cosine similarity score to report a match (0.0-1.0)
# Only used when SIMILARITY_SENSITIVITY=custom
# SIMILARITY_THRESHOLD=0.65

# Score above which a match is considered high confidence (0.0-1.0)
# SIMILARITY_HIGH_CONFIDENCE_THRESHOLD=0.85

# Score above which a match is treated as exact (0.0-1.0)
# SIMILARITY_EXACT_MATCH_THRESHOLD=0.98

# =============================================================================
# VECTORIZATION PARAMETERS
# =============================================================================

# Number of features for TF-IDF vectorization
# Higher = more accurate but uses more memory
# Recommended values: 4096, 8192 (default), 16384
# VECTORIZATION_N_FEATURES=8192

# N-gram range for text analysis
# Unigrams (1) capture individual words
# Bigrams (2) and trigrams (3) capture phrases
# VECTORIZATION_NGRAM_MIN=1
# VECTORIZATION_NGRAM_MAX=3

# Use inverse document frequency weighting
# VECTORIZATION_USE_IDF=true

# Apply sublinear term frequency scaling: log(1 + tf)
# VECTORIZATION_SUBLINEAR_TF=true

# Ignore terms that appear in more than this fraction of documents (0.0-1.0)
# VECTORIZATION_MAX_DF=0.95

# Ignore terms that appear in fewer than this many documents
# VECTORIZATION_MIN_DF=1

# =============================================================================
# FALSE POSITIVE REDUCTION
# =============================================================================

# Require matches across multiple n-gram levels to reduce false positives
# SIMILARITY_REQUIRE_MULTIPLE_MATCHES=true

# Minimum characters required to consider a file for similarity matching
# Very short files are skipped to avoid spurious matches
# SIMILARITY_MIN_CONTENT_LENGTH=50

# =============================================================================
# LOGGING
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# LOG_LEVEL=INFO

# =============================================================================
# CORS CONFIGURATION (for frontend access)
# =============================================================================

# Comma-separated list of allowed origins for CORS
# Use "*" to allow all origins (default, suitable for development)
# CORS_ORIGINS=*
